{% extends 'imagersite/base.html' %}

{% block nav %} {% include "imagersite/nav.html" %} {% endblock nav %}

{% block content %}

    <header class="masthead">
      <div class="container">
        <div class="intro-text">
          <div class="intro-lead-in">Image Libraries</div>
          <div class="intro-heading">
                <h1>all the pictures you can handle</h1>
          </div>       
        </div>
      </div>
    </header>
    <!-- Portfolio Grid -->
    <section class="bg-light" id="portfolio">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading">My Albums</h2>
            <h3 class="section-subheading text-muted">Some pictures.</h3>
          </div>
        </div>
        <div class="row">

{# template for each library album #}

{% for album in albums %}
{% if request.user.is_authenticated and album.published == 'PUBLIC' %}

          <div class="col-md-4 col-sm-6 portfolio-item">
            <a class="portfolio-link" href="album/{{ album.id }}">
              <div class="portfolio-hover">
                <div class="portfolio-hover-content">
                  <i class="fa fa-plus fa-3x"></i>
                </div>
              </div>
              {% load static %}
                <img class="img-fluid" src="{{ album.cover.url }}" alt="My image"/>
            </a>
            <div class="portfolio-caption">
              <h4>{{ album.title }}</h4>
              <p class="text-muted">{{ album.description }}</p>
            </div>
          </div>

{% endif %}
{% endfor %}

        </div>
      </div>
    </section>

<nav>
    <ul>
    {% for page_num in paginator.page_range %}
        <li><a href="?page={{ page_num }}">Page {{ page_num }}</a></li>
    {% endfor %}
    </ul>
</nav>

{% endblock %}